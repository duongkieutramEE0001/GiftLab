@model GiftLab.ViewModels.ShopIndexViewModel

@{
    ViewData["Title"] = "Cửa hàng";
}

<link rel="stylesheet" href="~/css/shop.css" />

<section class="gl-shop">
    <div class="gl-shop-layout">

        <aside class="gl-filter">
            <h3 class="gl-filter-title">Danh mục sản phẩm</h3>

            <label class="gl-check">
                <input type="checkbox" name="cat" value="Len mềm" />
                <span class="gl-box"></span>
                <span class="gl-check-text">Len Mềm</span>
            </label>

            <label class="gl-check">
                <input type="checkbox" name="cat" value="Bánh Ngọt" />
                <span class="gl-box"></span>
                <span class="gl-check-text">Bánh Ngọt</span>
            </label>

            <label class="gl-check">
                <input type="checkbox" name="cat" value="Hạt cườm" />
                <span class="gl-box"></span>
                <span class="gl-check-text">Hạt Cườm</span>
            </label>

            <label class="gl-check">
                <input type="checkbox" name="cat" value="Đất màu" />
                <span class="gl-box"></span>
                <span class="gl-check-text">Đất Màu</span>
            </label>

            <hr class="gl-filter-line" />

            <h3 class="gl-filter-title">Giá sản phẩm</h3>

            <div class="gl-price-row">
                <span>0 đ</span>
                <span>200.000 đ</span>
            </div>

            <input class="gl-range" type="range" min="0" max="200000" step="1000" value="200000"
                   oninput="document.getElementById('glPriceVal').textContent = this.value.replace(/\B(?=(\d{3})+(?!\d))/g,'.') + ' đ';" />

            <div class="gl-price-value">
                Giá: <span id="glPriceVal">200.000 đ</span>
            </div>

            <button type="button" class="gl-filter-btn">Lọc sản phẩm</button>
        </aside>


        <div class="gl-shop-main">
            <h1 class="gl-shop-title">Cửa hàng</h1>

            <div class="gl-shop-grid">
                @foreach (var p in Model.Products)
                {
                @await Html.PartialAsync("_ProductCard", p)
                }
            </div>

            @if (Model.TotalPages > 1)
            {
            <div class="gl-shop-paging">
                @{
                var prevPage = Model.Page - 1;
                var nextPage = Model.Page + 1;

                var prevUrl = Url.Action("Index", "Shop", new { page = prevPage });
                var nextUrl = Url.Action("Index", "Shop", new { page = nextPage });
                }

                <a class="gl-page-btn @(Model.Page <= 1 ? " is-disabled" : "" )"
                   href="@(Model.Page <= 1 ? " #" : prevUrl)">
                    ‹ Trước
                </a>

                <span class="gl-page-info">Trang @Model.Page / @Model.TotalPages</span>

                <a class="gl-page-btn @(Model.Page >= Model.TotalPages ? " is-disabled" : "" )"
                   href="@(Model.Page >= Model.TotalPages ? " #" : nextUrl)">
                    Sau ›
                </a>
            </div>
            }
        </div>

    </div>
</section>